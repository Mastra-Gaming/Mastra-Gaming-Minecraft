<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Mastra-Gaming Minecraft Server</title>
<link rel="stylesheet" href="../css/style.css" />
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
<link rel="icon" href="../favicon.ico" type="image/x-icon" />
</head>
<body>

<h2 id="picker-title">Server auswählen</h2>

<div style="margin: 20px;">
  <label for="gui-scale">GUI Scale: </label>
  <input type="range" id="gui-scale" name="gui-scale" min="1" max="2" step="0.1" value="1" oninput="scaleGUI(this.value)">
</div>

<section id="picker-menu">
  <!-- Server 1 -->
  <div class="server-entry" onclick="selectServer(this, '../worlds/1_7_10.html')">
    <img src="https://api.loohpjames.com/serverbanner.png?ip=atom.mastra-gaming.de&timezone=Europe/Berlin" 
         class="server-banner" 
         alt="Minecraft Server Banner - atom.mastra-gaming.de">
  </div>

  <!-- Server 2 -->
  <div class="server-entry" onclick="selectServer(this, '../worlds/1_12_2.html')">
    <img src="https://api.loohpjames.com/serverbanner.png?ip=train.mastra-gaming.de&timezone=Europe/Berlin" 
         class="server-banner" 
         alt="Minecraft Server Banner - train.mastra-gaming.de">
  </div>
  <!-- Server 3 -->
  <div class="server-entry" onclick="selectServer(this, '../worlds/1_20_1.html')">
    <img src="https://api.loohpjames.com/serverbanner.png?ip=mc.mastra-gaming.de&timezone=Europe/Berlin" 
         class="server-banner" 
         alt="Minecraft Server Banner - mc.mastra-gaming.de">
  </div>

  <!-- Server 4 -->
  <div class="server-entry" onclick="selectServer(this, '../worlds/dev.html')">
    <img src="https://api.loohpjames.com/serverbanner.png?ip=dev.mastra-gaming.de&timezone=Europe/Berlin" 
         class="server-banner" 
         alt="Minecraft Server Banner - dev.mastra-gaming.de">
  </div>

  <!-- Server 5 -->
  <div class="server-entry" onclick="selectServer(this, '../worlds/1_21_1.html')">
    <img src="https://api.loohpjames.com/serverbanner.png?ip=paper.mastra-gaming.de&timezone=Europe/Berlin" 
         class="server-banner" 
         alt="Minecraft Server Banner - paper.mastra-gaming.de">
  </div>

  <div class="minecraft-text">
    Suche nach Spielen im lokalen Netzwerk
    <div class="loading"></div>
  </div>
</section>

  <section class="picker-button-wrapper picker-buttons">
    <a href="javascript:void(0)" id="join-server-button" class="button picker-button1 grid-button1" onclick="joinSelectedServer()" disabled><span>Server beitreten</span></a>
    </a> <a href="../loading">
    <div class="button picker-button1 grid-button2"><span>Server hinzufügen</span></div>
    <a href="https://mastra-gaming.de">
      <div class="button picker-button2 grid-button3" id="edit-server-button" onclick="toggleButtonState()" disabled><span>Bearbeiten</span></div>
    </a>
    <a href="https://mastra-gaming.de">
      <div class="button picker-button2 grid-button4" id="delete-server-button" onclick="toggleButtonState()" disabled><span>Löschen</span></div>
    </a><a href="./index.html">
    <div class="button picker-button2 grid-button5"><span>Aktualisieren</span></div>
    </a> <a href="../">
    <div class="button picker-button2 grid-button6"><span>Zurück</span></div>
    </a></section>
  
    <script>
      // Cache-Busting für automatische Updates
      function refreshBanners() {
          document.querySelectorAll('.server-banner').forEach(img => {
              img.src = img.src.split('?')[0] + '?ip=' + img.src.split('ip=')[1].split('&')[0] + 
                       '&timezone=Europe/Berlin&cache=' + Date.now();
          });
      }
      
      // Alle 60 Sekerneu laden
      setInterval(refreshBanners, 60000);
      
      // Vorhandene Funktionen
      let selectedServer = null;
      
      function selectServer(element, url) {
          selectedServer = url;
          document.getElementById('join-server-button').disabled = false;
          document.querySelectorAll('.server-entry').forEach(s => s.style.borderColor = '#3ba55d');
          element.style.borderColor = '#ffaa00';
      }
      
      function scaleGUI(value) {
          document.documentElement.style.fontSize = `${value * 10}px`;
      }
      
      document.getElementById('gui-scale').addEventListener('input', function(e) {
          scaleGUI(e.target.value);
      });
      </script>
      <script src="../js/script.js"></script>
<footer> <span class="left"><a class="bold" href="https://github.com/mastra-gaming">&copy; 2025 Mastra-Gaming. All rights reserved.</a></span> <span class="right">This site is not an official Minecraft product, nor is it approved by or associated with Mojang.</span> </footer>
</body>
</html>